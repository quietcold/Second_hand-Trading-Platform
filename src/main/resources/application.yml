# Spring 核心配置
spring:
  # 应用名称
  application:
    name: Second_hand-Trading-Platform

  # 激活的环境配置
  profiles:
    active: local  # 默认使用 application-local.yml

  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 10MB      # 单个文件最大大小
      max-request-size: 50MB   # 请求最大大小（多文件总和）

  datasource:
    # 显式指定数据源类型为 Druid
    type: com.alibaba.druid.pool.DruidDataSource
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/second_hand-trade?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: ${DB_USERNAME:root}       # 数据库用户名，默认root
    password: ${DB_PASSWORD:}            # 数据库密码，请在 application-local.yml 中配置

  # Redis 配置
  data:
    redis:
      host: ${REDIS_HOST:localhost}
      port: ${REDIS_PORT:6379}
      password: ${REDIS_PASSWORD:}     # 如果有密码，在 application-local.yml 中配置
      database: 6
      timeout: 3000ms
      lettuce:
        pool:
          max-active: 8
          max-idle: 8
          min-idle: 0
          max-wait: -1ms

# MyBatis 框架配置
mybatis:
  configuration:
    # 开启驼峰命名自动映射
    map-underscore-to-camel-case: true
    # 将MyBatis执行的SQL打印到控制台
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl
  # 实体类别名扫描包
  type-aliases-package: com.xyz.entity
  # 类型处理器扫描包
  type-handlers-package: com.xyz.handler

# 自定义业务配置
trade:
  jwt:
    # JWT 签名密钥，请在 application-local.yml 中配置
    secret-key: ${JWT_SECRET_KEY:please-change-this-in-application-local-yml}
    # JWT 过期时间 (这里是24小时，单位：毫秒)
    expiration-time: 86400000

  # 阿里云 OSS 配置（敏感信息请在 application-local.yml 中配置）
  alioss:
    endpoint: ${ALIOSS_ENDPOINT:oss-cn-shenzhen.aliyuncs.com}
    access-key-id: ${ALIOSS_ACCESS_KEY_ID:your-access-key-id}
    access-key-secret: ${ALIOSS_ACCESS_KEY_SECRET:your-access-key-secret}
    bucket-name: ${ALIOSS_BUCKET_NAME:your-bucket-name}
